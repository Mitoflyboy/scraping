define("third-party/domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t+=1)e[t](u)}function t(){var t=g;d&&t.length&&(g=[],e(t))}function n(){d||(d=!0,i&&clearInterval(i),t())}function a(e){return d?e(u):g.push(e),a}var r,o,i,s="undefined"!=typeof window&&window.document,d=!s,u=s?document:null,g=[];if(s){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),o=document.createElement("div");try{r=null===window.frameElement}catch(c){}o.doScroll&&r&&window.external&&(i=setInterval(function(){try{o.doScroll(),n()}catch(e){}},30))}"complete"===document.readyState&&n()}return a.version="2.0.1",a.load=function(e,t,n,r){r.isBuild?n(null):a(n)},a}),define("helpers",[],function(){"use strict";function e(e){return e.monikerbrand&&"-1"!==e.monikerbrand&&m.hasOwnProperty(e.monikerbrand)?m[e.monikerbrand]:e.brand&&"-1"!==e.brand&&m.hasOwnProperty(e.brand)?m[e.brand]:null}function t(e,t,n){if(!e)throw new TypeError("addEvent: elem must be defined");if("string"!=typeof t||t.length<=0)throw new TypeError("addEvent: event must be a non-empty string");if("function"!=typeof n)throw new TypeError("addEvent: func must be a function");return e.addEventListener?e.addEventListener(t,n,!1):e["on"+t]=n,e}function n(e){if("function"!=typeof e)throw new TypeError("pushCmd: cmd must be a function");window.googletag.cmd.push(e)}function a(e){var t=window.document.createElement("div");t.setAttribute("style","height:1px;width:1px;"),t.style.display="none",t.id=e,window.document.body.appendChild(t)}function r(e){return window.document.getElementById(e)?(n(function(){window.googletag.display(e)}),!0):!1}function o(){var e=window,t=document,n=t.documentElement,a=t.getElementsByTagName("body")[0],r=e.innerWidth||n.clientWidth||a.clientWidth;return r>=980?"d":r>=768?"l":r>480?"p":"m"}function i(e){return e?e.toString().replace(/^0/g,""):""}function s(e){return e?e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-\.]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""):""}function d(e){if(e){var t=e.toString().replace(/[^\d|^\.]/g,""),n=parseInt(t,10);return isNaN(n)?"":n}}function u(e,t){var n,a;if(p.pushed=p.pushed||{},!t||"string"!=typeof t&&"number"!=typeof t){if(t&&t instanceof Array&&t.length>0){for(n=0,a=t.length;a>n;n++)t[n]=s(t[n]);window.googletag.pubads().setTargeting(e,t),p.pushed[e]=t}}else{var r=s(t);window.googletag.pubads().setTargeting(e,r),p.pushed[e]=r}}function g(e,t,n,a,r){var o,i,s,d,u,g=e,c=[[],[]];if(p.ads=p.ads||{},n[0]instanceof Array)for(s=0,d=n.length;d>s;s++)c[0].push(n[s][0]),c[1].push(n[s][1]);else c=[[n[0]],[n[1]]];return u=window.googletag.defineSlot(g,n,t).addService(window.googletag.pubads()).setTargeting("w",c[0].toString()).setTargeting("h",c[1].toString()),"boolean"==typeof a?(o=a===!0?"a":"b",u.setTargeting("ps",o)):"string"==typeof a?(o=a,u.setTargeting("ps",o)):"number"==typeof a&&(i=a,u.setTargeting("il",i)),"string"==typeof r&&u.setTargeting("ab",r),p.ads["ad-"+h+"-name"]=g,p.ads["ad-"+h+"-width"]=c[0].toString(),p.ads["ad-"+h+"-height"]=c[1].toString(),p.ads["ad-"+h+"-htmlid"]=t,"string"==typeof r&&(p.ads["ad-"+h+"-ab"]=r),void 0!==o?p.ads["ad-"+h+"-ps"]=o:void 0!==i&&(p.ads["ad-"+h+"-il"]=i),h++,u}function c(e,t){var n,a=e;if("oop1"===t?a=e+"/o":"oop2"===t&&(a=e+"/t"),a===e)throw new TypeError('htmlid must be either "oop1" or "oop2"');return p.ads=p.ads||{},n=window.googletag.defineOutOfPageSlot(a,t).addService(window.googletag.pubads()),p.ads["ad-"+h+"-name"]=a,p.ads["ad-"+h+"-htmlid"]=t,h++,n}function l(e,t,n,a){var r=[f,e,t];return a!==!0&&r.push(n),"/"+r.join("/")}var p=window.hadvertising||{},h=0,f=22181711,m={abritel:"ha.fr",homeaway_ar:"ha.ar",homeaway_at:"ha.at",homeaway_au:"ha.au",homeaway_br:"ha.br",homeaway_ca:"ha.ca",homeaway_cafr:"ha.ca.fr",homeaway_ch:"ha.ch",homeaway_co:"ha.co",homeaway_de:"ha.de",homeaway_dk:"ha.dk",homeaway_es:"ha.es",homeaway_fi:"ha.fi",homeaway_gr:"ha.gr",homeaway_in:"ha.in",homeaway_it:"ha.it",homeaway_mx:"ha.mx",homeaway_nl:"ha.nl",homeaway_no:"ha.no",homeaway_pl:"ha.pl",homeaway_pt:"ha.pt",homeaway_ru:"ha.ru",homeaway_se:"ha.se",homeaway_tr:"ha.tr",homeaway_uk:"ha.uk",homeaway_us:"ha.us",homelidays_es:"hd.es",homelidays_fr:"hd.fr",homelidays_it:"hd.it",homelidays_pt:"hd.pt",luxury_de:"lx.de",luxury_uk:"lx.uk",luxury_us:"lx.us",odhr:"od.uk",vr:"vr.us",vrbo:"vb.us",bnb:"bb.us",bnb_fr:"bb.fr",bnb_de:"bb.de",bnb_es:"bb.es",bnb_it:"bb.it",stayz:"st.au",toprural:"tr.es",toprural_cat:"tr.ad",toprural_ca:"tr.ad",toprural_fr:"tr.fr",toprural_de:"tr.de",toprural_it:"tr.it",toprural_nl:"tr.nl",toprural_pt:"tr.pt",toprural_uk:"tr.uk",hacom:"homeaway.community",hatv:"homeaway.traveler",hare:"homeaway.realestate"},w={home:"hp",search:"sp",property:"pp",inquiry:"ip","inquiry confirmation":"ip",error:"mp",errors:"mp",reviews:"rv","property compare":"pc",travelerdash:"fv","travel-ideas":"mk",favorites:"fv",marketing:"mk","rental assurance":"ra",dashboard:"db",Traveler:"fv",trips:"fv",traveldeals:"mk"};return window.hadvertising=p,{accountId:f,amazonAccountId:3096,hadvertising:p,brandHash:m,supportedPageTypes:w,getBrand:e,addEvent:t,pushCmd:n,readyAndDisplayAd:r,setMobileLayer:o,condenseDateString:i,slugify:s,ensureInt:d,createDiv:a,setTargeting:u,setSlotLevelAdValues:g,setOOPSlotLevelAdValues:c,buildAdUnitName:l,getSlotCounter:function(){return h}}}),define("amd-promise",[],function(){function e(e){return e&&"function"==typeof e.then}function t(e){function t(e){setTimeout(function(){var t,n;for(t=0,n=d.length;n>t;t++)e===d[t][0]&&d[t][1](i);d=[]},0)}function n(){return t("resolve")}function a(){return t("reject")}function r(e){"pending"===s&&(s="resolve",i=e,n())}function o(e){"pending"===s&&(s="reject",i=e,a())}var i,s="pending",d=[];if(this.then=function(e,n){var a=!1;if("function"==typeof e&&(a=!0,d.push(["resolve",e])),"function"==typeof n&&(a=!0,d.push(["reject",n])),!a)throw new TypeError("then() requires at least one argument to be a function");return"pending"!==s&&setTimeout(function(){t(s)},0),this},this["catch"]=function(e){if("function"!=typeof e)throw new TypeError("catch() must be passed a function");return this.then(void 0,e)},this.always=function(e){if("function"!=typeof e)throw new TypeError("always() must be passed a function");return d.push(["resolve",e]),d.push(["reject",e]),"pending"!==s&&setTimeout(function(){t(s)},0),this},"function"!=typeof e)throw new TypeError("Promise must be passed a function");try{e(r,o)}catch(u){o(u)}return this}return t.resolve=function(n){return n instanceof t?n:new t(e(n)?function(e,t){n.then(e,t)}:function(e){e(n)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.all=function(e){return new t(function(n,a){function r(e){++d===u&&n(e)}function o(e){a(e)}var i,s,d=0,u=e.length;for(i=0,s=e.length;s>i;i++)t.resolve(e[i]).then(r,o)})},t.race=function(e){return new t(function(n,a){var r,o;for(r=0,o=e.length;o>r;r++)t.resolve(e[r]).then(n,a)})},t}),define("third-party/amazonModifications",[],function(){function e(e,t,n,a){a=a||{},e.getAds=function(r,o,i){var s=i.u||a.u,d=i.d||a.d;if(e.src_id=r,i=i||{},!s){s=encodeURIComponent(t.documentURI);try{s=encodeURIComponent(n.top.location.href)}catch(u){}}if(s&&-1!==s.indexOf("amzn_debug_mode")&&(e.debug_mode=!0),e.ads&&(e.debug_mode&&e.log("amznads.getAds(): clear out existing ads"),e.ads={}),d)try{t.domain=d,e.debug_mode&&e.log("amznads.getAds(): Using domain="+d)}catch(g){e.debug_mode&&e.log("amznads.getAds(): Unable to override document domain with '"+d+"'; exception="+g)}e.debug_mode&&e.log("amznads.getAds(): Using url="+s);var c="src="+r+"&u="+s+"&cb="+Math.round(1e7*Math.random());o&&(c+="&sz="+o);var l=e.protocol+e.host+e.dtb_svc+"?"+c;e.debug_mode&&e.log("amznads.getAds: Async Call to: "+l);var p=t.createElement("script"),h=["amznads",(new Date).getTime().toString(),Math.ceil(1e7*Math.random()).toString()].join("-");p.type="text/javascript",p.async=!0,p.id=h,p.src=l;var f=t.getElementsByTagName("script")[0];return f.parentNode.insertBefore(p,f),h}}return e}),define("hadvertising-options",["module","third-party/amazonModifications"],function(e){"use strict";function t(e){var t=e.requireModules&&e.requireModules[0];console&&"function"==typeof console.error&&console.error("Error loading "+t+"... skipping to continue load chain"),requirejs.undef(t),define(t,[],function(){return{}}),require([t],function(){})}var n,a="//www.googletagservices.com/tag/js/gpt.js",r="//c.amazon-adsystem.com/aax2/amzn_ads.js",o=[];return{gptUrl:a,amznUrl:r,load:function(i,s,d,u){u.isBuild?d():(e.config().withAmazonAds?(o=[a,r,"third-party/amazonModifications"],n=function(t,n,a){var r=e.config().amazonData?e.config().amazonData:{};a(window.amznads||{},window.document,window,r),d()}):(o=[a],n=d),s(o,n,t))}}}),define("hadvertising",["third-party/domReady","helpers","amd-promise","hadvertising-options!"],function(e,t,n){"use strict";function a(){return window.amznads?new n(function(e,n){var a,r=l.getAds(t.amazonAccountId,null,{},!0),o=document.getElementById(r);o||n(new Error("amznads getAds script does not exist")),t.addEvent(o,"load",function(){clearTimeout(a),e(!0)}),a=setTimeout(function(){n(new Error("timeout waiting for amznads"))},C)}):n.resolve(!0)}function r(){if(x)return x;if(g=window.analyticsdatalayer,c=t.hadvertising,l=window.amznads||null,!g)throw new TypeError("window.analyticsdatalayer required by hadvertising.js");if(p=t.getBrand(g),h=t.supportedPageTypes[g.pagetype],m="unit"===g.appenvironment?"d":t.setMobileLayer(),w=t.buildAdUnitName(p,h,m,!1),y=t.buildAdUnitName(p,h,m,!0),f=parseInt(g.maxprice||g.minprice,10),v=g.geonode?g.geonode.split(":"):[],b=v[0],T=v[1],_=v[2],E=v[3],A=v[4],S=v[5],z=D.exec(g.propertydetails),k=z?z[1]:"",I=window.location.hostname.match(/(stage|test|\.dev|asdweb|dev(\d)?\.|local(\.|host))/),!h){var e="window.analyticsdatalayer.pagetype required by hadvertising in supported list";try{e+=" of "+Object.keys(t.supportedPageTypes).join(", ")}catch(n){}throw new TypeError(e)}if(!p){var a="window.analyticsdatalayer.monikerbrand required by hadvertising in supported list";try{a+=" of "+Object.keys(t.brandHash).join(", ")}catch(r){}throw new TypeError(a)}return t.createDiv("oop1"),t.createDiv("oop2"),x=!0,o("oop1"),x}function o(e,n,a,r){if(!x)throw new Error("addSlot: Cannot addSlot() before init()ing");if(!e)throw new TypeError("addAdSlot: htmlId must be set");if(void 0===a&&(a=!1),"boolean"!=typeof a&&"number"!=typeof a&&"string"!=typeof a)throw new TypeError("addAdSlot: must pass either a boolean, number or string for the 3rd argument");if(n){if(!(n instanceof Array)||n.length<2)throw new TypeError("addAdSlot: dimensions must be an Array of at least 2 items");t.pushCmd(function(){t.setSlotLevelAdValues(w,e,n,a,r),L.push(e)})}else("oop1"===e||"oop2"===e)&&t.pushCmd(function(){t.setOOPSlotLevelAdValues(y,e),L.push(e)})}function i(){if(!x)throw new Error("displayAds: Cannot displayAds() before init()ing");return new n(function(e,n){t.pushCmd(function(){var r,i,s,d,u,c,l,p,h={},m=[];g.startdate&&(r=g.startdate.split("-"),s=t.condenseDateString(r[1]),i=t.condenseDateString(r[2]),d=t.condenseDateString(r[0]),d&&4===d.length&&(d=d.slice(2,4))),g.enddate&&(u=g.enddate.split("-"),l=t.condenseDateString(u[1]),c=t.condenseDateString(u[2]),p=t.condenseDateString(u[0]),p&&4===p.length&&(p=p.slice(2,4))),t.setTargeting("id",g.propertyid),g.accounttype&&t.setTargeting("at",g.accounttype.toString().charAt(0)),t.setTargeting("n1",b),t.setTargeting("n2",T),t.setTargeting("n3",_),t.setTargeting("n4",E),t.setTargeting("n5",A),t.setTargeting("n6",S),t.setTargeting("nr",t.ensureInt(g.numberresults)),t.setTargeting("sv",g.searchview),t.setTargeting("pg",t.ensureInt(g.pagination)),t.setTargeting("sy",d),t.setTargeting("sm",s),t.setTargeting("sd",i),t.setTargeting("ey",p),t.setTargeting("em",l),t.setTargeting("ed",c),isNaN(f)||(f=f>1e3?1e3:f>750?750:f>500?500:f>400?400:f>300?300:f>200?200:f>100?100:50,t.setTargeting("pr",f)),t.setTargeting("ms",t.ensureInt(g.maxsleeps||g.minsleeps)),t.setTargeting("mb",t.ensureInt(g.maxbeds||g.minbeds)),t.setTargeting("mw",t.ensureInt(g.maxbaths||g.minbaths)),t.setTargeting("s",g.sort),t.setTargeting("bk",g.booking?g.booking.split(";"):""),t.setTargeting("pt",g.propertytype?g.propertytype.split(";"):""),t.setTargeting("lt",g.locationtype?g.locationtype.split(";"):""),t.setTargeting("ft",g.features?g.features.split(";"):""),t.setTargeting("mg",g.managedby?g.managedby.split(";"):""),t.setTargeting("ad",t.ensureInt(g.adults)),t.setTargeting("ch",t.ensureInt(g.children)),t.setTargeting("a",g.displayads?g.displayads:""),t.setTargeting("v",g.releasedate?g.releasedate:""),t.setTargeting("rn",t.ensureInt(k)),t.setTargeting("t",I?"y":""),t.setTargeting("vt",g.vacationtype?g.vacationtype:""),o("oop2"),a().always(function(a){var r,o,i=[];if(a instanceof Error&&n(a),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(),window.amznads)try{window.amznads.setTargetingForGPTSync("amznslots")}catch(s){}for(window.googletag.enableServices(),r=0,o=L.length;o>r;r++)t.readyAndDisplayAd(L[r])&&(h[r]=!0,m.push(L[r]));if(L.length===Object.keys(h).length)L=[];else{for(r=0,o=L.length;o>r;r++)h[r]||i.push(L[r]);L=i}j=!0,e(m)})})})}function s(){if(!j)throw new TypeError("refreshAds: must call displayAds() before refreshAds()");return new n(function(e,n){t.pushCmd(function(){window.googletag.pubads().clearTargeting("amznslots"),a().always(function(a){if(a instanceof Error&&n(a),window.amznads)try{window.amznads.setTargetingForGPTSync("amznslots")}catch(r){}t.pushCmd(function(){window.googletag.pubads().refresh(),e()})})})})}function d(e){t.pushCmd(function(){window.googletag.pubads().addEventListener("slotRenderEnded",function(t){var n=null,a=null,r=null;try{n=t.slot.getSlotId().getDomId()}catch(o){console&&"function"==typeof console.error&&console.error(o)}t&&t.size&&(a=t.size[0],r=t.size[1]),e(t,t.creativeId,n,t.isEmpty,a,r)})})}function u(t){var n={init:r,addAdSlot:o,displayAds:i,refreshAds:s,onSlotRendered:d};e(function(){t(n)})}var g,c,l,p,h,f,m,w,y,v,b,T,_,E,A,S,z,k,I,x=!1,j=!1,D=/[:]rev(\d+)/g,C=3e3,L=[];return window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],{ready:u}});
//# sourceMappingURL=hadvertising.min.js.map